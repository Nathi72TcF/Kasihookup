<ion-header>
  <ion-toolbar>
    <ion-icon color="primary" name="arrow-back" vertical="end" slot="start" style="margin-left: 10px;" (click)="goToProfile()"></ion-icon>
    <ion-title color="primary">Bookings</ion-title>
  </ion-toolbar>
</ion-header>

<ion-content>
  <ion-toolbar>

    <ion-segment 
    value="all" 
    color="tertiary" 
    scrollable="true"
    mode="ios"
    [(ngModel)]="segmentModel" 
    (ionChange)="segmentChanged($event)">

      <ion-segment-button value="new">
        <ion-label color="primary">New</ion-label>
      </ion-segment-button>

      <ion-segment-button value="accept">
        <ion-label color="primary">Accepted</ion-label>
      </ion-segment-button>

      <ion-segment-button value="history">
        <ion-label color="primary">History</ion-label>
      </ion-segment-button>

    </ion-segment>
    
  </ion-toolbar>

  <div *ngIf="segmentModel === 'new'">
    <div>
      <h5 style="color: #4c8fa3;">New Bookings - {{ bookingsNo }}</h5>
    </div>

    <ion-card *ngIf="bookings.length === 0" style="align-content: center;">
      <ion-card-header>
        <ion-skeleton-text animated style="width:100px; border-radius: 8px;"></ion-skeleton-text><br>
        <ion-skeleton-text animated style="width:100px; border-radius: 8px;"></ion-skeleton-text><br>
        <ion-skeleton-text animated style="width:200px; border-radius: 8px;"></ion-skeleton-text>
      </ion-card-header>
  
      <ion-card-content class="post-list-content">
        <ion-skeleton-text animated style="width:100px; border-radius: 8px;"></ion-skeleton-text><br>
        <ion-skeleton-text animated style="width:100px; border-radius: 8px;"></ion-skeleton-text><br>
        <ion-skeleton-text animated style="width:100px; border-radius: 8px;"></ion-skeleton-text><br>
        <ion-skeleton-text animated style="width:100px; border-radius: 8px;"></ion-skeleton-text><br>
        <ion-skeleton-text animated style="width:100px; border-radius: 8px;"></ion-skeleton-text>
      </ion-card-content>
    </ion-card>

    <ion-card *ngFor="let count of bookings">
      <div align="center">
        <ion-label color="primary">Status</ion-label>
        <h5 style="color: #4c8fa3;">"{{ count.results }}"</h5>
      </div>
      <div align="center">
        <h5 style="color: #4c8fa3;">Booked Date: {{ count.date }}</h5>
      </div>
      <ion-item>
        <ion-label>
          <h3 style="color: #4c8fa3;"><ion-icon name="person" style="color: #4c8fa3;"></ion-icon> Name - {{count.clientname}}</h3>
          <h3 style="color: #4c8fa3;"><ion-icon name="person" style="color: #4c8fa3;"></ion-icon> Surname - {{count.clientsurname}}</h3>
          <h3 style="color: #4c8fa3;"><ion-icon name="document" style="color: #4c8fa3;"></ion-icon> Status - {{count.status}}</h3>
          <h3 style="color: #4c8fa3;"><ion-icon name="alarm" style="color: #4c8fa3;"></ion-icon> Time - {{count.type}}</h3>
          <h3 style="color: #4c8fa3;"><ion-icon name="cash" style="color: #4c8fa3;"></ion-icon> Paying - R{{count.money / 10}}</h3>
          <h3 style="color: #4c8fa3;"><ion-icon name="chatbubbles" style="color: #4c8fa3;"></ion-icon> Comment - {{count.clientcomment}}</h3>
    
          <div align="right">
            <ion-button color="primary" tappable (click)="presentAlertAddClient(count.id)">
              <ion-icon name="add-circle"></ion-icon>
            </ion-button>
  
            <ion-button color="danger" tappable (click)="presentAlertDeleteClient(count.id)">
              <ion-icon name="trash"></ion-icon>
            </ion-button>
          </div>
        </ion-label>
      </ion-item>
    </ion-card>
  </div>

  <div *ngIf="segmentModel === 'accept'">
    <div>
      <h5 style="color: #4c8fa3;">Active Bookings - {{ bookingsacceptNo }}</h5>
    </div>

    <ion-card *ngIf="bookingsaccept.length === 0" style="align-content: center;">
      <ion-card-header>
        <ion-skeleton-text animated style="width:100px; border-radius: 8px;"></ion-skeleton-text><br>
        <ion-skeleton-text animated style="width:100px; border-radius: 8px;"></ion-skeleton-text><br>
        <ion-skeleton-text animated style="width:200px; border-radius: 8px;"></ion-skeleton-text>
      </ion-card-header>
  
      <ion-card-content class="post-list-content">
        <ion-skeleton-text animated style="width:100px; border-radius: 8px;"></ion-skeleton-text><br>
        <ion-skeleton-text animated style="width:100px; border-radius: 8px;"></ion-skeleton-text><br>
        <ion-skeleton-text animated style="width:100px; border-radius: 8px;"></ion-skeleton-text><br>
        <ion-skeleton-text animated style="width:100px; border-radius: 8px;"></ion-skeleton-text><br>
        <ion-skeleton-text animated style="width:100px; border-radius: 8px;"></ion-skeleton-text>
      </ion-card-content>
    </ion-card>

    <ion-card *ngFor="let count of bookingsaccept">
      <div align="center">
        <ion-label color="primary">Satus</ion-label>
        <h3 style="color: #4c8fa3;">"{{ count.results }}"</h3>
      </div>
      <div align="center">
        <h3 style="color: #4c8fa3;">Open Date: {{ count.date }}</h3>
        <h3 style="color: #4c8fa3;">"Accepted Date: {{ count.acceptdate }}"</h3>
      </div>
      <ion-item>
        <ion-label>
          <h3 style="color: #4c8fa3;"><ion-icon name="person" style="color: #4c8fa3;"></ion-icon> Name - {{count.clientname}}</h3>
          <h3 style="color: #4c8fa3;"><ion-icon name="person" style="color: #4c8fa3;"></ion-icon> Surname - {{count.clientsurname}}</h3>
          <h3 style="color: #4c8fa3;"><ion-icon name="document" style="color: #4c8fa3;"></ion-icon> Status - {{count.status}}</h3>
          <h3 style="color: #4c8fa3;"><ion-icon name="alarm" style="color: #4c8fa3;"></ion-icon> Time - {{count.type}}</h3>
          <h3 style="color: #4c8fa3;"><ion-icon name="cash" style="color: #4c8fa3;"></ion-icon> Paying - R{{count.money / 10}}</h3>
          <h3 style="color: #4c8fa3;"><ion-icon name="chatbubbles" style="color: #4c8fa3;"></ion-icon> Comment - {{count.clientcomment}}</h3>
    
          <div align="right">
            <ion-button color="primary" tappable [routerLink]="['../bookingchat', count.id]" routerDirection="forward">
              <ion-icon name="chatbubbles"></ion-icon>
            </ion-button>

            <ion-button color="primary" tappable (click)="presentAlertDone(count.id)" >
              <ion-icon name="close-circle"></ion-icon>
            </ion-button>

          </div>
        </ion-label>
      </ion-item>
    </ion-card>
  </div>

  <div *ngIf="segmentModel === 'history'">
    <div>
      <h5 style="color: #4c8fa3;">Booking History - {{ bookingshistoryNo }}</h5>
    </div>

    <ion-card *ngIf="bookingshistory.length === 0" style="align-content: center;">
      <ion-card-header>
        <ion-skeleton-text animated style="width:100px; border-radius: 8px;"></ion-skeleton-text><br>
        <ion-skeleton-text animated style="width:100px; border-radius: 8px;"></ion-skeleton-text><br>
        <ion-skeleton-text animated style="width:200px; border-radius: 8px;"></ion-skeleton-text>
      </ion-card-header>
  
      <ion-card-content class="post-list-content">
        <ion-skeleton-text animated style="width:100px; border-radius: 8px;"></ion-skeleton-text><br>
        <ion-skeleton-text animated style="width:100px; border-radius: 8px;"></ion-skeleton-text><br>
        <ion-skeleton-text animated style="width:100px; border-radius: 8px;"></ion-skeleton-text><br>
        <ion-skeleton-text animated style="width:100px; border-radius: 8px;"></ion-skeleton-text><br>
        <ion-skeleton-text animated style="width:100px; border-radius: 8px;"></ion-skeleton-text>
      </ion-card-content>
    </ion-card>

    <ion-card *ngFor="let count of bookingshistory">
      <div align="center">
        <h3 style="color: #4c8fa3;">{{ count.date }}</h3>
        <h3 style="color: #4c8fa3;">"{{ count.results }}"</h3>
      </div>
      <ion-item>
        <ion-label>
          <h3 style="color: #4c8fa3;"><ion-icon name="person" style="color: #4c8fa3;"></ion-icon> Name - {{count.clientname}}</h3>
          <h3 style="color: #4c8fa3;"><ion-icon name="person" style="color: #4c8fa3;"></ion-icon> Surname - {{count.clientsurname}}</h3>
          <h3 style="color: #4c8fa3;"><ion-icon name="document" style="color: #4c8fa3;"></ion-icon> Status - {{count.status}}</h3>
          <h3 style="color: #4c8fa3;"><ion-icon name="alarm" style="color: #4c8fa3;"></ion-icon> Time - {{count.type}}</h3>
          <h3 style="color: #4c8fa3;"><ion-icon name="cash" style="color: #4c8fa3;"></ion-icon> Paying - R{{count.money / 10}}</h3>
          <h3 style="color: #4c8fa3;"><ion-icon name="chatbubbles" style="color: #4c8fa3;"></ion-icon> Comment - {{count.clientcomment}}</h3>

        </ion-label>
      </ion-item>
    </ion-card>
  </div>

</ion-content>
